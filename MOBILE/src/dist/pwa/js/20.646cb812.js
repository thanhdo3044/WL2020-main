(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[20],{"0ad3":function(t,e,a){},cb22:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",[a("order-header",{attrs:{order:t.order}}),a("q-card",{staticClass:"my-card"},[a("XacNhanCong",{attrs:{metaValue:t.metaValue,disable:t.disable}})],1),a("q-card",[a("q-card-section",{staticClass:"float-right q-mr-lg"},[void 0==t.order.Requests||t.order.Requests&&!Object.keys(t.order.Requests).length?a("q-checkbox",{attrs:{label:"Đồng ý"},model:{value:t.disable,callback:function(e){t.disable=e},expression:"disable"}}):t._e()],1)],1),t.disable?a("order-approved",{staticClass:"q-mt-lg",attrs:{metaValue:t.metaValue,order:t.order}}):t._e(),a("q-btn",{staticClass:"q-ma-sm",attrs:{color:"primary",label:"Message"},on:{click:t.active}}),a("send-message",{directives:[{name:"show",rawName:"v-show",value:t.activeMess,expression:"activeMess"}],attrs:{order:t.order}})],1)},r=[],o=(a("8e6e"),a("8a81"),a("ac6a"),a("cadf"),a("06db"),a("456d"),a("f751"),a("9523")),n=a.n(o),l=a("2f62"),i=a("932a"),c=a("6664"),d=a("0ac8"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-card-section",[a("div",{staticClass:"q-gutter-sm text-primary text-h6"},[t._v("\n      Làm thêm giờ :\n      "),a("br")]),a("div",{staticClass:"q-gutter-sm q-mt-sm"}),"Không được duyệt"==t.order.status?a("div",[t._l(t.order.OrderMeta.filter((function(t){return t.maNV})),(function(e,s){return a("div",{key:s},[a("q-card",{staticClass:"q-mb-sm q-mt-sm"},[a("q-card-section",[a("div",{staticClass:"row"},[a("q-input",{staticClass:"q-mt-sm col q-pr-sm",attrs:{outlined:"",label:"Mã nhân viên :",readonly:!t.disable},model:{value:e.maNV,callback:function(a){t.$set(e,"maNV",a)},expression:"task.maNV"}}),a("q-input",{staticClass:"q-mt-sm col ",attrs:{outlined:"",label:"Họ và tên : ",readonly:!t.disable},model:{value:e.fullName,callback:function(a){t.$set(e,"fullName",a)},expression:"task.fullName"}})],1),a("div",{staticClass:"row"},[a("q-input",{staticClass:"q-mt-sm col q-mr-sm",attrs:{outlined:"",label:"Chức danh : ",readonly:t.disable},model:{value:t.userInfo.position,callback:function(e){t.$set(t.userInfo,"position",e)},expression:"userInfo.position"}}),a("q-input",{staticClass:"q-mt-sm col",attrs:{outlined:"",label:"Phòng ban/bộ phận : ",readonly:t.disable},model:{value:t.nameDepartmentName.NAME,callback:function(e){t.$set(t.nameDepartmentName,"NAME",e)},expression:"nameDepartmentName.NAME"}})],1),a("div",{staticClass:"row"},[a("q-input",{staticClass:"q-mt-sm col q-pr-sm",attrs:{outlined:"",label:"Ngày tháng :",readonly:!t.disable},model:{value:e.date,callback:function(a){t.$set(e,"date",a)},expression:"task.date"}}),a("q-input",{staticClass:"q-mt-sm col",attrs:{outlined:"",label:"Công việc : ",readonly:!t.disable},model:{value:e.work,callback:function(a){t.$set(e,"work",a)},expression:"task.work"}})],1),a("div",{staticClass:"row"},[a("q-input",{staticClass:"q-mt-sm col q-pr-sm",attrs:{outlined:"",label:"Thời gian từ :",readonly:!t.disable},model:{value:e.hoursIn,callback:function(a){t.$set(e,"hoursIn",a)},expression:"task.hoursIn"}}),a("q-input",{staticClass:"q-mt-sm col q-pr-sm",attrs:{outlined:"",label:"Thời gian đến : ",readonly:!t.disable},model:{value:e.hoursOut,callback:function(a){t.$set(e,"hoursOut",a)},expression:"task.hoursOut"}}),a("q-input",{staticClass:"q-mt-sm col",attrs:{outlined:"",label:"Tổng số giờ : ",readonly:!t.disable},model:{value:e.total,callback:function(a){t.$set(e,"total",a)},expression:"task.total"}})],1),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("q-input",{staticClass:"q-mt-sm col",attrs:{outlined:"",label:"Trạng thái phê duyệt : ",readonly:!0},model:{value:e.statusRequests,callback:function(a){t.$set(e,"statusRequests",a)},expression:"task.statusRequests "}})],1)]),a("q-btn",{staticClass:"q-mt-sm",attrs:{color:"primary","text-color":"white",label:"Sửa"},on:{click:function(a){return t.actEdit(e)}}}),a("q-btn",{staticClass:"q-mt-sm q-ml-sm",attrs:{color:"orange","text-color":"white",label:"Xóa"},on:{click:function(a){return t.RowDelted(e)}}})],1)],1)],1)})),a("q-btn",{directives:[{name:"show",rawName:"v-show",value:t.disable,expression:"disable"}],staticClass:"q-mt-sm q-mr-sm",attrs:{color:"primary","text-color":"white",label:"Thêm"},on:{click:function(e){return t.initNewRow(t.task)}}}),a("q-btn",{staticClass:"q-mt-sm",attrs:{color:"primary","text-color":"white",label:"Hoàn thành"},on:{click:t.updatedOrderMeta}})],2):a("div",[a("q-btn",{directives:[{name:"show",rawName:"v-show",value:!t.disable,expression:"!disable"}],staticClass:"q-mt-sm",attrs:{color:"primary","text-color":"white",label:"Thêm"},on:{click:function(e){return t.initNewRow(t.task)}}}),t._l(t.order.OrderMeta.filter((function(t){return t.maNV})),(function(e,s){return a("div",{key:s},[a("q-card",{staticClass:"q-mb-sm q-mt-sm"},[a("q-card-section",[a("div",{staticClass:"row"},[a("q-input",{staticClass:"q-mt-sm col q-pr-sm",attrs:{outlined:"",label:"Mã nhân viên :",readonly:t.disable},model:{value:e.maNV,callback:function(a){t.$set(e,"maNV",a)},expression:"task.maNV"}}),a("q-input",{staticClass:"q-mt-sm col ",attrs:{outlined:"",label:"Họ và tên : ",readonly:t.disable},model:{value:e.fullName,callback:function(a){t.$set(e,"fullName",a)},expression:"task.fullName"}})],1),a("div",{staticClass:"row"},[a("q-input",{staticClass:"q-mt-sm col q-mr-sm",attrs:{outlined:"",label:"Chức danh : ",readonly:t.disable},model:{value:t.userInfo.position,callback:function(e){t.$set(t.userInfo,"position",e)},expression:"userInfo.position"}}),a("q-input",{staticClass:"q-mt-sm col",attrs:{outlined:"",label:"Phòng ban/bộ phận : ",readonly:t.disable},model:{value:t.nameDepartmentName.NAME,callback:function(e){t.$set(t.nameDepartmentName,"NAME",e)},expression:"nameDepartmentName.NAME"}})],1),a("div",{staticClass:"row"},[a("q-input",{staticClass:"q-mt-sm col q-pr-sm",attrs:{outlined:"",label:"Ngày tháng :",readonly:t.disable},model:{value:e.date,callback:function(a){t.$set(e,"date",a)},expression:"task.date"}}),a("q-input",{staticClass:"q-mt-sm col",attrs:{outlined:"",label:"Công việc : ",readonly:t.disable},model:{value:e.work,callback:function(a){t.$set(e,"work",a)},expression:"task.work"}})],1),a("div",{staticClass:"row"},[a("q-input",{staticClass:"q-mt-sm col q-pr-sm",attrs:{outlined:"",label:"Thời gian từ :",readonly:t.disable},model:{value:e.hoursIn,callback:function(a){t.$set(e,"hoursIn",a)},expression:"task.hoursIn"}}),a("q-input",{staticClass:"q-mt-sm col q-pr-sm",attrs:{outlined:"",label:"Thời gian đến : ",readonly:t.disable},model:{value:e.hoursOut,callback:function(a){t.$set(e,"hoursOut",a)},expression:"task.hoursOut"}}),a("q-input",{staticClass:"q-mt-sm col",attrs:{outlined:"",label:"Tổng số giờ : ",readonly:t.disable},model:{value:e.total,callback:function(a){t.$set(e,"total",a)},expression:"task.total"}})],1),a("div",{staticClass:"row"},[a("q-input",{staticClass:"q-mt-sm col",attrs:{outlined:"",label:"Trạng thái phê duyệt : ",readonly:!0},model:{value:e.statusRequests,callback:function(a){t.$set(e,"statusRequests",a)},expression:"task.statusRequests"}})],1),0==t.order.Requests.length&&"Xem xét"==e.statusRequests||"Hủy"==e.statusRequests?a("q-btn",{staticClass:"q-mt-sm",attrs:{color:"primary","text-color":"white",label:"Sửa"},on:{click:function(a){return t.actEdit(e)}}}):t._e(),0==t.order.Requests.length&&"Xem xét"==e.statusRequests||"Hủy"==e.statusRequests?a("q-btn",{staticClass:"q-mt-sm q-ml-sm",attrs:{color:"orange","text-color":"white",label:"Xóa"},on:{click:function(a){return t.RowDelted(e)}}}):t._e()],1)],1)],1)}))],2),"Lỗi chấm công"==t.metaValue.selection?a("div",["Không được duyệt"==t.order.status?a("div",[a("q-btn",{directives:[{name:"show",rawName:"v-show",value:!t.disable,expression:"!disable"}],staticClass:"q-mt-sm",attrs:{color:"primary","text-color":"white",label:"Thêm"},on:{click:function(e){return t.initNewRow(t.task)}}}),t._l(t.order.OrderMeta.filter((function(t){return t.maNV})),(function(e,s){return a("div",{key:s},[a("q-card",{staticClass:"q-mb-sm q-mt-sm"},[a("q-card-section",[a("div",{staticClass:"row"},[a("q-input",{staticClass:"q-mt-sm col q-pr-sm",attrs:{outlined:"",label:"Mã nhân viên :",readonly:!t.disable},model:{value:e.maNV,callback:function(a){t.$set(e,"maNV",a)},expression:"task.maNV"}}),a("q-input",{staticClass:"q-mt-sm col ",attrs:{outlined:"",label:"Họ và tên : ",readonly:!t.disable},model:{value:e.fullName,callback:function(a){t.$set(e,"fullName",a)},expression:"task.fullName"}})],1),a("div",{staticClass:"row"},[a("q-input",{staticClass:"q-mt-sm col q-mr-sm",attrs:{outlined:"",label:"Chức danh : ",readonly:t.disable},model:{value:t.userInfo.position,callback:function(e){t.$set(t.userInfo,"position",e)},expression:"userInfo.position"}}),a("q-input",{staticClass:"q-mt-sm col",attrs:{outlined:"",label:"Phòng ban/bộ phận : ",readonly:t.disable},model:{value:t.nameDepartmentName.NAME,callback:function(e){t.$set(t.nameDepartmentName,"NAME",e)},expression:"nameDepartmentName.NAME"}})],1),a("div",{staticClass:"row"},[a("q-input",{staticClass:"q-mt-sm col q-pr-sm",attrs:{outlined:"",label:"Ngày tháng :",readonly:!t.disable},model:{value:e.date,callback:function(a){t.$set(e,"date",a)},expression:"task.date"}}),a("q-input",{staticClass:"q-mt-sm col",attrs:{outlined:"",label:"Công việc : ",readonly:!t.disable},model:{value:e.work,callback:function(a){t.$set(e,"work",a)},expression:"task.work"}})],1),a("div",{staticClass:"row"},[a("q-input",{staticClass:"q-mt-sm col q-pr-sm",attrs:{outlined:"",label:"Thời gian từ :",readonly:!t.disable},model:{value:e.hoursIn,callback:function(a){t.$set(e,"hoursIn",a)},expression:"task.hoursIn"}}),a("q-input",{staticClass:"q-mt-sm col q-pr-sm",attrs:{outlined:"",label:"Thời gian đến : ",readonly:!t.disable},model:{value:e.hoursOut,callback:function(a){t.$set(e,"hoursOut",a)},expression:"task.hoursOut"}}),a("q-input",{staticClass:"q-mt-sm col",attrs:{outlined:"",label:"Tổng số giờ : ",readonly:!t.disable},model:{value:e.total,callback:function(a){t.$set(e,"total",a)},expression:"task.total"}})],1),a("q-btn",{staticClass:"q-mt-sm",attrs:{color:"primary","text-color":"white",label:"Sửa"},on:{click:function(a){return t.actEdit(e)}}}),a("q-btn",{staticClass:"q-mt-sm q-ml-sm",attrs:{color:"orange","text-color":"white",label:"Xóa"},on:{click:function(a){return t.RowDelted(e)}}})],1)],1)],1)})),a("q-btn",{directives:[{name:"show",rawName:"v-show",value:t.disable,expression:"disable"}],staticClass:"q-mt-sm q-mr-sm",attrs:{color:"primary","text-color":"white",label:"Thêm"},on:{click:function(e){return t.initNewRow(t.task)}}}),a("q-btn",{staticClass:"q-mt-sm",attrs:{color:"primary","text-color":"white",label:"Hoàn thành"},on:{click:t.updatedOrderMeta}})],2):a("div",[a("q-btn",{directives:[{name:"show",rawName:"v-show",value:!t.disable,expression:"!disable"}],staticClass:"q-mt-sm",attrs:{color:"primary","text-color":"white",label:"Thêm"},on:{click:function(e){return t.initNewRow(t.task)}}}),t._l(t.order.OrderMeta.filter((function(t){return t.maNV})).sort((function(t){return t.createdAt})),(function(e,s){return a("div",{key:s},[a("q-card",{staticClass:"q-mb-sm q-mt-sm"},[a("q-card-section",[a("div",{staticClass:"row"},[a("q-input",{staticClass:"q-mt-sm col q-pr-sm col",attrs:{outlined:"",label:"Mã nhân viên :",readonly:t.disable},model:{value:e.maNV,callback:function(a){t.$set(e,"maNV",a)},expression:"task.maNV"}}),a("q-input",{staticClass:"q-mt-sm col ",attrs:{outlined:"",label:"Họ và tên : ",readonly:t.disable},model:{value:e.fullName,callback:function(a){t.$set(e,"fullName",a)},expression:"task.fullName"}})],1),a("div",{staticClass:"row"},[a("q-input",{staticClass:"q-mt-sm col q-mr-sm",attrs:{outlined:"",label:"Chức danh : ",readonly:t.disable},model:{value:t.userInfo.position,callback:function(e){t.$set(t.userInfo,"position",e)},expression:"userInfo.position"}}),a("q-input",{staticClass:"q-mt-sm col",attrs:{outlined:"",label:"Phòng ban/bộ phận : ",readonly:t.disable},model:{value:t.nameDepartmentName.NAME,callback:function(e){t.$set(t.nameDepartmentName,"NAME",e)},expression:"nameDepartmentName.NAME"}})],1),a("div",{staticClass:"row"},[a("q-input",{staticClass:"q-mt-sm col q-pr-sm",attrs:{outlined:"",label:"Ngày tháng :",readonly:t.disable},model:{value:e.date,callback:function(a){t.$set(e,"date",a)},expression:"task.date"}}),a("q-input",{staticClass:"q-mt-sm col",attrs:{outlined:"",label:"Công việc : ",readonly:t.disable},model:{value:e.work,callback:function(a){t.$set(e,"work",a)},expression:"task.work"}})],1),a("div",{staticClass:"row"},[a("q-input",{staticClass:"q-mt-sm col q-pr-sm",attrs:{outlined:"",label:"Thời gian từ :",readonly:t.disable},model:{value:e.hoursIn,callback:function(a){t.$set(e,"hoursIn",a)},expression:"task.hoursIn"}}),a("q-input",{staticClass:"q-mt-sm col q-pr-sm",attrs:{outlined:"",label:"Thời gian đến : ",readonly:t.disable},model:{value:e.hoursOut,callback:function(a){t.$set(e,"hoursOut",a)},expression:"task.hoursOut"}}),a("q-input",{staticClass:"q-mt-sm col",attrs:{outlined:"",label:"Tổng số giờ : ",readonly:t.disable},model:{value:e.total,callback:function(a){t.$set(e,"total",a)},expression:"task.total"}})],1)])],1)],1)}))],2)]):t._e(),a("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[a("q-card",{staticClass:"bg-white text-black",staticStyle:{width:"auto"}},[a("q-card-section",[a("div",{staticClass:"text-h6 bg-primary q-pa-sm text-orange shadow-5",staticStyle:{"border-radius":"5px"}},[t._v("Thêm dữ liệu")])]),a("q-card-section",{staticClass:"q-pt-none"},[a("q-input",{staticClass:"q-mt-sm q-pl-sm",attrs:{outlined:"",label:"Công việc: ",readonly:!1},model:{value:t.order.OrderMeta[0].work,callback:function(e){t.$set(t.order.OrderMeta[0],"work",e)},expression:"order.OrderMeta[0].work"}}),a("div",{staticClass:"col q-pl-sm"},[a("div",{staticClass:"text-h8"},[t._v("Ngày tháng :")]),a("q-input",{attrs:{filled:""},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{mask:"DD-MM-YYYY"},model:{value:t.order.OrderMeta[0].date,callback:function(e){t.$set(t.order.OrderMeta[0],"date",e)},expression:"order.OrderMeta[0].date"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.order.OrderMeta[0].date,callback:function(e){t.$set(t.order.OrderMeta[0],"date",e)},expression:"order.OrderMeta[0].date"}})],1),a("div",{staticClass:"col q-pl-sm"},[a("div",{staticClass:"text-h8"},[t._v("Giờ vào :")]),a("q-input",{attrs:{filled:"",mask:"time",rules:["time"]},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"access_time"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-time",{attrs:{format24h:""},model:{value:t.order.OrderMeta[0].hoursIn,callback:function(e){t.$set(t.order.OrderMeta[0],"hoursIn",e)},expression:"order.OrderMeta[0].hoursIn"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.order.OrderMeta[0].hoursIn,callback:function(e){t.$set(t.order.OrderMeta[0],"hoursIn",e)},expression:"order.OrderMeta[0].hoursIn"}})],1),a("div",{staticClass:"col q-pl-sm"},[a("div",{staticClass:"text-h8"},[t._v("Giờ ra :")]),a("q-input",{attrs:{filled:"",mask:"time",rules:["time"]},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"access_time"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-time",{attrs:{format24h:""},model:{value:t.order.OrderMeta[0].hoursOut,callback:function(e){t.$set(t.order.OrderMeta[0],"hoursOut",e)},expression:"order.OrderMeta[0].hoursOut"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.order.OrderMeta[0].hoursOut,callback:function(e){t.$set(t.order.OrderMeta[0],"hoursOut",e)},expression:"order.OrderMeta[0].hoursOut"}})],1),a("q-input",{staticClass:"q-mt-sm q-pl-sm q-pr-sm",staticStyle:{width:"50% !important"},attrs:{outlined:"",label:"Tổng số giờ : ",readonly:!0},model:{value:t.totaHours,callback:function(e){t.totaHours=e},expression:"totaHours"}})],1),a("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"OK"},on:{click:t.RowInserted}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Back"}})],1)],1)],1),a("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:t.activeEdit,callback:function(e){t.activeEdit=e},expression:"activeEdit"}},[a("q-card",{staticClass:"bg-white text-black",staticStyle:{width:"auto"}},[a("q-card-section",[a("div",{staticClass:"text-h6 bg-primary q-pa-sm text-orange shadow-5",staticStyle:{"border-radius":"5px"}},[t._v("Thêm dữ liệu")])]),a("q-card-section",{staticClass:"q-pt-none"},[a("q-input",{staticClass:"q-mt-sm q-pl-sm",attrs:{outlined:"",label:"Công việc: ",readonly:!1},model:{value:t.modelEdit.work,callback:function(e){t.$set(t.modelEdit,"work",e)},expression:"modelEdit.work"}}),a("div",{staticClass:"col q-pl-sm"},[a("div",{staticClass:"text-h8"},[t._v("Ngày tháng :")]),a("q-input",{attrs:{filled:""},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{mask:"DD-MM-YYYY"},model:{value:t.modelEdit.date,callback:function(e){t.$set(t.modelEdit,"date",e)},expression:"modelEdit.date"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.modelEdit.date,callback:function(e){t.$set(t.modelEdit,"date",e)},expression:"modelEdit.date"}})],1),a("div",{staticClass:"col q-pl-sm"},[a("div",{staticClass:"text-h8"},[t._v("Giờ vào :")]),a("q-input",{attrs:{filled:"",mask:"time",rules:["time"]},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"access_time"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-time",{attrs:{format24h:""},model:{value:t.modelEdit.timeIn,callback:function(e){t.$set(t.modelEdit,"timeIn",e)},expression:"modelEdit.timeIn"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.modelEdit.timeIn,callback:function(e){t.$set(t.modelEdit,"timeIn",e)},expression:"modelEdit.timeIn"}})],1),a("div",{staticClass:"col q-pl-sm"},[a("div",{staticClass:"text-h8"},[t._v("Giờ ra :")]),a("q-input",{attrs:{filled:"",mask:"time",rules:["time"]},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"access_time"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-time",{attrs:{format24h:""},model:{value:t.modelEdit.timeOut,callback:function(e){t.$set(t.modelEdit,"timeOut",e)},expression:"modelEdit.timeOut"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.modelEdit.timeOut,callback:function(e){t.$set(t.modelEdit,"timeOut",e)},expression:"modelEdit.timeOut"}})],1),a("q-input",{staticClass:"q-mt-sm q-pl-sm q-pr-sm",staticStyle:{width:"50% !important"},attrs:{outlined:"",label:"Tổng số giờ : ",readonly:!0},model:{value:t.totaHoursUpd,callback:function(e){t.totaHoursUpd=e},expression:"totaHoursUpd"}})],1),a("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"OK"},on:{click:t.RowUpdated}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Back"}})],1)],1)],1)],1)},m=[],p=(a("7f7f"),a("a34a")),b=a.n(p),f=(a("96cf"),a("c973")),h=a.n(f),q=a("bc3a"),v=a.n(q),O=a("c1df"),k=a.n(O);function w(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function N(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?w(Object(a),!0).forEach((function(e){n()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var x={props:["metaValue","disable","order"],created:function(){var t=this;return h()(b.a.mark((function e(){var a;return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.GET_DEPARTMENTSBYID(t.userInfo.department);case 2:return t.nameDepartmentName=e.sent,console.log("this.nameDepartmentName",t.nameDepartmentName.NAME),t.status=t.$route.query.status,console.log("status",t.status),console.log("dsCongDoans",t.dsCongDoans),console.log("userInfo",t.userInfo),t.$route.query.id?t.getOneOrder(t.$route.query.id).then((function(e){e.data.data.Requests.length&&(t.disable=!0),t.metaValue=Object.assign(t.metaValue,JSON.parse(e.data.data.OrderMeta[0].metaValue)[0])})):t.$router.push({path:"/tao-de-xuat"}),e.next=12,t.GET_ACCOUNTS();case 12:return a=e.sent,console.log("account2",a),e.next=16,a.data.forEach((function(e){t.account.push({value:e.id,accountCode:e.account,label:e.account,name:e.lastName,position:e.position,departmentId:e.departmentId})}));case 16:console.log("account",t.account);case 17:case"end":return e.stop()}}),e)})))()},data:function(){return{events:[],nameDepartment:{},status:"",phoneNumber:"",nameDepartmentName:null,active:!1,options:null,account:[],accountName:"",totalHours:0,totalHoursUpd:0,activeEdit:!1,modelEdit:{date:null,work:null,timeIn:null,timeOut:null,totalHours:null,id:null,maNV:null}}},computed:N(N(N({},Object(l["c"])("orders",["order"])),Object(l["c"])("base",["userInfo"])),{},{totaHours:function(){return this.totalHours=k.a.utc(k()(this.order.OrderMeta[0].hoursOut," HH:mm").diff(k()(this.order.OrderMeta[0].hoursIn,"HH:mm"))).format("HH:mm"),console.log(this.order.OrderMeta[0].hoursIn),console.log(this.order.OrderMeta[0].hoursOut),console.log("totalHours",this.totalHours),this.totalHours},totaHoursUpd:function(){return this.totalHoursUpd=k.a.utc(k()(this.modelEdit.timeOut," HH:mm").diff(k()(this.modelEdit.timeIn,"HH:mm"))).format("HH:mm"),console.log("totalHours",this.totalHoursUpd),this.totalHoursUpd}}),methods:N(N(N(N(N({},Object(l["b"])("base",["GET_DEPARTMENTSBYID","GET_DEPARTMENTSALL","GET_ACCOUNTS"])),Object(l["b"])("orders",["getOneOrder","getAllRequests"])),Object(l["b"])("orderMetas",["getOneOrderMeta","addorderMeta","deleteOrderMeta","updateOrderMeta"])),Object(l["b"])("requests",["deleteRequest","resetOrder"])),{},{changed:function(){var t=this;return h()(b.a.mark((function e(){var a;return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("changed"),t.order.OrderMeta[0].fullName=t.accountName.name,t.order.OrderMeta[0].position2=t.accountName.position,e.next=5,t.GET_DEPARTMENTSBYID(t.accountName.departmentId);case 5:a=e.sent,console.log("department2",a),t.order.OrderMeta[0].department2=a.NAME;case 8:case"end":return e.stop()}}),e)})))()},filterFn:function(t,e){var a=this;e(""!==t?function(){var e=t.toLowerCase();a.options=a.account.filter((function(t){return t.label.toLowerCase().indexOf(e)>-1}))}:function(){a.options=a.account})},loadData:function(t){var e=this;return h()(b.a.mark((function a(){var s;return b.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=null,a.prev=1,a.next=4,e.getOneOrder(t);case 4:s=a.sent,a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](1),console.log(a.t0);case 10:s||e.$router.push({path:"/tao-de-xuat"}),e.order.OrderMeta=s.data.data.OrderMeta,console.log(s);case 13:case"end":return a.stop()}}),a,null,[[1,7]])})))()},initNewRow:function(){console.log("init"),this.active=!0},actEdit:function(t){var e=this;return h()(b.a.mark((function a(){return b.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:console.log("task",t),e.modelEdit.date=t.date,e.modelEdit.timeIn=t.hoursIn,e.modelEdit.timeOut=t.hoursOut,e.modelEdit.totalHoursUpd=t.total,e.modelEdit.work=t.work,e.modelEdit.id=t.id,e.modelEdit.maNV=t.maNV,e.activeEdit=!0;case 9:case"end":return a.stop()}}),a)})))()},RowInserted:function(){var t=this;return h()(b.a.mark((function e(){var a,s,r,o,n,l,i,c,d,u,m,p,f,h,q,v,O,k,w,x,y,C;return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.active=!1,"Làm thêm giờ"!=t.metaValue.selection){e.next=20;break}return a=t.userInfo.lastName,s=t.userInfo.position,r=t.nameDepartmentName.NAME,o=t.userInfo.PHONE,n="Làm thêm giờ",l=t.order.OrderMeta[0].work,i=t.userInfo.account,c=t.order.OrderMeta[0].hoursIn,d=t.order.OrderMeta[0].hoursOut,u=t.totalHours,m=t.order.OrderMeta[0].date,p="Xem xét",e.next=16,t.addorderMeta(N(N({},t.order.OrderMeta[0]),{},{metaValue:JSON.stringify([t.metaValue]),fullName:a,phoneNumber:o,selection:n,work:l,hoursIn:c,hoursOut:d,date:m,maNV:i,total:u,department:r,position:s,statusRequests:p}));case 16:return e.next=18,t.loadData(t.$route.query.id);case 18:e.next=35;break;case 20:return f=t.userInfo.lastName,h=t.userInfo.position,q=t.userInfo.PHONE,v=t.nameDepartmentName.NAME,O="Làm thêm giờ",t.order.OrderMeta[0].work,k=t.userInfo.account,w=t.order.OrderMeta[0].hoursIn,x=t.order.OrderMeta[0].hoursOut,y=t.totalHours,C=t.order.OrderMeta[0].date,e.next=33,t.addorderMeta(N(N({},t.order.OrderMeta[0]),{},{metaValue:JSON.stringify([t.metaValue]),fullName:f,phoneNumber:q,selection:O,hoursIn:w,hoursOut:x,total:y,date:C,maNV:k,position:h,department:v}));case 33:return e.next=35,t.loadData(t.$route.query.id);case 35:case"end":return e.stop()}}),e)})))()},RowDelted:function(t){var e=this;return h()(b.a.mark((function a(){return b.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log("STT",t.id),a.next=3,e.deleteOrderMeta(t.id);case 3:return a.next=5,e.loadData(e.$route.query.id);case 5:case"end":return a.stop()}}),a)})))()},RowUpdated:function(){var t=this;return h()(b.a.mark((function e(){var a,s,r,o,n,l,i,c,d,u,m,p,f,h,q,v,O,k,w,x,y,C,g,M;return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("Làm thêm giờ"!=t.metaValue.selection){e.next=19;break}return a=t.userInfo.lastName,s=t.userInfo.position,r=t.nameDepartmentName.NAME,o=t.userInfo.PHONE,n="Làm thêm giờ",l=t.modelEdit.work,i=t.modelEdit.timeIn,c=t.modelEdit.timeOut,d=t.totalHoursUpd,u=t.modelEdit.maNV,m=t.modelEdit.date,p=t.modelEdit.id,e.next=15,t.updateOrderMeta(N(N({},t.order.OrderMeta[0]),{},{metaValue:JSON.stringify([t.metaValue]),fullName:a,phoneNumber:o,selection:n,work:l,hoursIn:i,hoursOut:c,date:m,maNV:u,id:p,position:s,department:r,total:d}));case 15:return e.next=17,t.loadData(t.$route.query.id);case 17:e.next=35;break;case 19:return f=t.userInfo.lastName,h=t.userInfo.position,q=t.nameDepartmentName.NAME,v=t.userInfo.PHONE,O="Làm thêm giờ",k=t.modelEdit.work,w=t.modelEdit.timeIn,x=t.modelEdit.timeOut,y=t.totalHoursUpd,C=t.modelEdit.maNV,g=t.modelEdit.date,M=t.modelEdit.id,e.next=33,t.updateOrderMeta(N(N({},t.order.OrderMeta[0]),{},{metaValue:JSON.stringify([t.metaValue]),fullName:f,phoneNumber:v,selection:O,work:k,hoursIn:w,hoursOut:x,date:g,maNV:C,id:M,position:h,department:q,total:y}));case 33:return e.next=35,t.loadData(t.$route.query.id);case 35:case"end":return e.stop()}}),e)})))()},updatedOrderMeta:function(){var t=this;return h()(b.a.mark((function e(){var a,s,r,o,n,l,i,c,d,u;return b.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("Làm thêm giờ"!=t.metaValue.selection){e.next=14;break}return a=t.userInfo.lastName,s=t.userInfo.position,r=t.userInfo.PHONE,o=t.nameDepartmentName.NAME,n="Làm thêm giờ",t.updateOrderMeta(N(N({},t.order.OrderMeta[0]),{},{metaValue:JSON.stringify([t.metaValue]),fullName:a,phoneNumber:r,selection:n,position:s,department:o})),e.next=9,v.a.put("/api/v2/orders?orderId=".concat(t.order.id));case 9:return e.next=11,t.deleteRequest(t.order.id);case 11:location.reload(),e.next=25;break;case 14:return l=t.userInfo.lastName,i=t.userInfo.PHONE,c=t.userInfo.position,d=t.nameDepartmentName.NAME,u="Làm thêm giờ",t.updateOrderMeta(N(N({},t.order.OrderMeta[0]),{},{metaValue:JSON.stringify([t.metaValue]),fullName:l,phoneNumber:i,position:c,department:d,selection:u})),e.next=22,v.a.put("/api/v2/orders?orderId=".concat(t.order.id));case 22:return e.next=24,t.deleteRequest(t.order.id);case 24:location.reload();case 25:case"end":return e.stop()}}),e)})))()}})},y=x,C=(a("f9f7"),a("2877")),g=a("a370"),M=a("f09f"),E=a("27f9"),I=a("9c40"),$=a("24e8"),D=a("0016"),V=a("7cbe"),H=a("52ee"),T=a("ca78"),j=a("4b7e"),R=a("7f67"),S=a("eebe"),_=a.n(S),P=Object(C["a"])(y,u,m,!1,null,"122d7164",null),A=P.exports;function L(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function Q(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?L(Object(a),!0).forEach((function(e){n()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):L(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}_()(P,"components",{QCardSection:g["a"],QCard:M["a"],QInput:E["a"],QBtn:I["a"],QDialog:$["a"],QIcon:D["a"],QPopupProxy:V["a"],QDate:H["a"],QTime:T["a"],QCardActions:j["a"]}),_()(P,"directives",{ClosePopup:R["a"]});var U={data:function(){return{disable:!1,activeMess:!1,metaValue:{kinhGui:"Ban TGĐ - Phòng NS",noiDungTT:"",soTien:0,vietBangChu:"",kemTheo:"",STT:"",locationWork:"",position:"",number:"",timeRecruit:"",description:"",fullName:"",maNV:"",department:"",stepDepartment:"",lyDo:"",date:"",work:"",total:"",dateStart:"",dateEnd:"",hoursIn:"",hoursOut:"",totalHours:"",selection1:null,selection2:null,selection3:null,selection4:null,selection:null}}},components:{SendMessage:i["a"],OrderHeader:c["a"],OrderApproved:d["a"],XacNhanCong:A},methods:Q(Q({active:function(){this.activeMess,this.activeMess=!this.activeMess}},Object(l["b"])("orders",["getOneOrder","getAllRequests"])),Object(l["b"])("orderMetas",["getOneOrderMeta","addorderMeta"])),computed:Q(Q({},Object(l["c"])("orders",["order"])),Object(l["c"])("base",["userInfo","myFactoryInfor"])),created:function(){var t=this;this.$route.query.id?this.getOneOrder(this.$route.query.id).then((function(e){e.data.data.Requests.length&&(t.disable=!0),t.metaValue=Object.assign(t.metaValue,JSON.parse(e.data.data.OrderMeta[0].metaValue)[0])})):this.$router.push({path:"/tao-de-xuat"})}},G=U,Y=a("9989"),J=a("8f8e"),B=Object(C["a"])(G,s,r,!1,null,null,null);e["default"]=B.exports;_()(B,"components",{QPage:Y["a"],QCard:M["a"],QCardSection:g["a"],QCheckbox:J["a"],QBtn:I["a"]})},f9f7:function(t,e,a){"use strict";var s=a("0ad3"),r=a.n(s);r.a}}]);