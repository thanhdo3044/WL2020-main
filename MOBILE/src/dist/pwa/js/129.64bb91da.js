(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[129],{"0a46":function(e,a,t){"use strict";t.r(a);var s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("q-page",{staticClass:"q-pa-sm"},[t("div",{staticClass:"row justify-center"},[t("div",{staticClass:"col-12 col-sm-6"},[t("div",{staticClass:"prodTextTitle"},[e._v("\n        Thêm phiếu nhập kho\n      ")])])]),t("div",{staticClass:"row justify-center q-ma-sm"},[t("div",{staticClass:"col-12 col-sm-6"},[t("q-select",{staticStyle:{"font-family":"'Time New Roman'","font-size":"16px","text-align":"center"},attrs:{clearable:"",behavior:"dialog",options:e.warehouses,label:"Kho nhập"},model:{value:e.warehouse,callback:function(a){e.warehouse=a},expression:"warehouse"}})],1)]),t("div",{staticClass:"row justify-center q-ma-sm"},[t("div",{staticClass:"col-12 col-sm-6"},[t("p",{staticClass:"woodText"},[e._v("Ngày xuống hàng :")]),t("q-date",{attrs:{mask:"YYYY-MM-DD",color:"purple"},model:{value:e.date,callback:function(a){e.date=a},expression:"date"}})],1)]),t("div",{staticClass:"row justify-center q-ma-sm"},[t("div",{staticClass:"col-12 col-sm-6"},[t("q-select",{staticStyle:{"font-family":"'Time New Roman'","font-size":"16px","text-align":"center"},attrs:{clearable:"",behavior:"dialog",options:e.vendors,label:"Nhà cung cấp"},model:{value:e.vendor,callback:function(a){e.vendor=a},expression:"vendor"}})],1)]),t("div",{staticClass:"row justify-center q-ma-sm"},[t("div",{staticClass:"col-12 col-sm-6"},[t("q-input",{attrs:{outlined:"",label:"Biển số xe"},model:{value:e.cardLicense,callback:function(a){e.cardLicense=a},expression:"cardLicense"}})],1)]),t("div",{staticClass:"row justify-center q-ma-md"},[t("div",{staticClass:"col-12 col-sm-6"},[t("q-btn",{staticClass:"full-width",attrs:{color:"primary",glossy:"",label:"Lưu lại"},on:{click:function(a){e.confirm=!0}}})],1)]),t("q-dialog",{attrs:{persistent:""},model:{value:e.confirm,callback:function(a){e.confirm=a},expression:"confirm"}},[t("q-card",{staticStyle:{"min-width":"300px"}},[t("q-card-section",{staticClass:"row items-center"},[t("span",{staticClass:"q-ml-sm"},[e._v("Xác nhận !")])]),t("q-card-actions",{attrs:{align:"right"}},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Hủy",color:"primary"}}),t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Đồng ý",color:"primary"},on:{click:e.save}})],1)],1)],1)],1)},n=[],o=(t("7f7f"),t("a34a")),c=t.n(o),r=(t("96cf"),t("c973")),i=t.n(r),l={data:function(){return{date:(new Date).toISOString(),vendor:null,vendors:[],cardLicense:"",confirm:!1,warehouses:[],warehouse:null}},methods:{save:function(){var e=this;return i()(c.a.mark((function a(){var t,s;return c.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!(e.date&&e.vendor&&e.warehouse)){a.next=8;break}return t={receiptDate:e.date,carLicensePlate:e.cardLicense,vendorId:e.vendor.value,warehouseId:e.warehouse.value,moduleCode:"vcn"},a.next=4,e.$store.dispatch("wood/CREATE_WH_RECEIPT",t);case 4:s=a.sent,!0===s.meta.success?(e.$q.notify({message:"Tạo biên bản thành công !",color:"green"}),e.$router.push({name:"wood-detail",params:{id:s.data[0].NEW_RECEIPT_ID}})):e.$q.notify({message:s.meta.messages.message,color:"red"}),a.next=9;break;case 8:e.$q.notify({message:"Vui lòng nhập đầy đủ thông tin !",color:"red"});case 9:case"end":return a.stop()}}),a)})))()},initData:function(){var e=this;return i()(c.a.mark((function a(){var t;return c.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return{module:"vcn"},a.next=3,e.$store.dispatch("wood/GET_VENDORS","vcn");case 3:t=a.sent,t.data.forEach((function(a){var t={value:a.id,label:a.name};e.vendors.push(t)})),e.$store.getters["base/mySources"].forEach((function(a){var t={value:a.id,label:a.name};e.warehouses.push(t)})),e.warehouses.length>0&&(e.warehouse=e.warehouses[0]);case 7:case"end":return a.stop()}}),a)})))()}},created:function(){this.initData()}},d=l,u=t("2877"),m=t("9989"),p=t("ddd8"),v=t("52ee"),f=t("27f9"),h=t("9c40"),w=t("24e8"),b=t("f09f"),g=t("a370"),C=t("4b7e"),q=t("7f67"),y=t("eebe"),x=t.n(y),k=Object(u["a"])(d,s,n,!1,null,null,null);a["default"]=k.exports;x()(k,"components",{QPage:m["a"],QSelect:p["a"],QDate:v["a"],QInput:f["a"],QBtn:h["a"],QDialog:w["a"],QCard:b["a"],QCardSection:g["a"],QCardActions:C["a"]}),x()(k,"directives",{ClosePopup:q["a"]})}}]);