(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[90],{c90c:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-card",[a("q-page",{staticClass:"q-pa-md"},[a("app-bar",[t._v("Xuất nhập tồn / "+t._s(this.$store.state.production.sourceSelected.name))]),a("q-tabs",{staticClass:"shadow-2 prodTextTitle",attrs:{"no-caps":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("q-tab",{attrs:{name:"wait-recived",label:"Chờ nhận"}}),a("q-tab",{attrs:{name:"in-stock",label:"Đang tồn"}}),a("q-tab",{attrs:{name:"out-stock",label:"Đã xuất"}})],1),a("q-separator"),a("q-tab-panels",{attrs:{animated:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("q-tab-panel",{attrs:{name:"wait-recived"}},[a("wait-recive-screen")],1),a("q-tab-panel",{attrs:{name:"in-stock"}},[a("in-stock-screen")],1),a("q-tab-panel",{attrs:{name:"out-stock"}},[a("out-stock-screen")],1)],1)],1)],1)},i=[],o=a("dd38"),n=a("0aa7"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row"},t._l(t.pallets,(function(e){return a("div",{key:e.id,staticClass:"col-12 col-md-6 q-pa-sm"},[a("transition",{attrs:{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated hinge"}},[a("card-pallet",{attrs:{pallet:e}},[a("div",{attrs:{slot:"action"},slot:"action"},[a("q-btn",{attrs:{color:"secondary",glossy:"",label:"Xem"},on:{click:function(a){return t.view(e)}}})],1)])],1)],1)})),0),a("q-inner-loading",{attrs:{showing:t.visible}},[a("q-spinner-gears",{attrs:{size:"150px",color:"primary"}})],1),a("q-page-sticky",{attrs:{position:"top-right",offset:[18,18]}},[a("q-fab",{attrs:{icon:"search",color:"primary"},on:{click:t.showSearch}})],1),a("q-dialog",{attrs:{"transition-show":"rotate","transition-hide":"rotate"},model:{value:t.showSearchModel,callback:function(e){t.showSearchModel=e},expression:"showSearchModel"}},[a("q-card",{staticStyle:{width:"300px"}},[a("q-card-section",[a("div",{staticClass:"prodTextTitle"},[t._v("Tìm kiếm")])]),a("q-card-section",[a("q-input",{attrs:{outlined:"",label:"Tìm theo qui cách"},on:{input:t.search},model:{value:t.quicachSearch,callback:function(e){t.quicachSearch=e},expression:"quicachSearch"}})],1),a("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"OK"}})],1)],1)],1)],1)},c=[],l=(a("7f7f"),a("6b54"),a("06db"),a("386d"),a("d534")),h={components:{"card-pallet":l["a"]},data:function(){return{visible:!0,pallets:[],quicachSearch:"",showSearchModel:!1}},created:function(){this.initData()},methods:{initData:function(){var t=this,e=this.$store.state.production.userInfo.token,a={token:e,sourceId:this.$store.state.production.sourceSelected.id};this.$store.dispatch("production/ACTION_GET_PALLET_IN_LINE",a).then((function(e){t.pallets=t.$store.state.production.palletsInLine,t.visible=!1}))},showSearch:function(){this.quicachSearch="",this.search(""),this.showSearchModel=!0},view:function(t){this.$router.push({name:"detailpallet",params:{code:t.code}})},search:function(t){var e=this.$store.state.production.palletsInLine.filter((function(e){var a=e.item[0].height.toString()+e.item[0].width.toString()+e.item[0].length.toString();if(-1!==a.toString().search(t))return e}));e.length>0?(this.pallets=e,this.numberPalletFound=e.length,this.showFiltterResult=!0):this.pallets=this.$store.state.production.palletsInLine},recive:function(t){var e=this;this.visible=!0;var a={token:this.$store.state.production.userInfo.token,packageId:t.packageId};this.$store.dispatch("production/ACTION_RECIVED_PALLET",a).then((function(t){!0===t.meta.success?(e.$q.notify({message:"Đã nhận pallet về công đoạn "+e.$store.state.production.sourceSelected.name,color:"green"}),e.initData()):e.$q.notify({message:t.meta.messages.message,color:"red"})})).catch((function(t){console.log(t)}))}}},d=h,u=a("2877"),p=a("9c40"),b=a("74f7"),f=a("cf57"),m=a("de5e"),v=a("c294"),g=a("24e8"),q=a("f09f"),S=a("a370"),w=a("27f9"),k=a("4b7e"),C=a("7f67"),Q=a("eebe"),$=a.n(Q),T=Object(u["a"])(d,r,c,!1,null,null,null),I=T.exports;$()(T,"components",{QBtn:p["a"],QInnerLoading:b["a"],QSpinnerGears:f["a"],QPageSticky:m["a"],QFab:v["a"],QDialog:g["a"],QCard:q["a"],QCardSection:S["a"],QInput:w["a"],QCardActions:k["a"]}),$()(T,"directives",{ClosePopup:C["a"]});var _=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row"},t._l(t.pallets,(function(e){return a("div",{key:e.id,staticClass:"col-12 col-md-6"},[a("transition",{attrs:{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated hinge"}},[a("card-pallet",{attrs:{pallet:e}},[a("div",{attrs:{slot:"action"},slot:"action"},[a("q-btn",{attrs:{color:"secondary",glossy:"",label:"Xem"},on:{click:function(a){return t.view(e)}}})],1)])],1)],1)})),0),a("q-inner-loading",{attrs:{showing:t.visible}},[a("q-spinner-gears",{attrs:{size:"150px",color:"primary"}})],1),a("q-page-sticky",{attrs:{position:"bottom-left",offset:[18,18]}},[a("q-fab",{attrs:{icon:"search",color:"secondary"},on:{click:t.showSearch}})],1),a("q-dialog",{attrs:{"transition-show":"rotate","transition-hide":"rotate"},model:{value:t.showSearchModel,callback:function(e){t.showSearchModel=e},expression:"showSearchModel"}},[a("q-card",{staticStyle:{width:"300px"}},[a("q-card-section",[a("div",{staticClass:"prodTextTitle"},[t._v("Tìm kiếm")])]),a("q-card-section",[a("q-input",{attrs:{outlined:"",label:"Tìm theo qui cách"},on:{input:t.search},model:{value:t.quicachSearch,callback:function(e){t.quicachSearch=e},expression:"quicachSearch"}})],1),a("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"OK"}})],1)],1)],1)],1)},y=[],x={components:{"card-pallet":l["a"]},data:function(){return{visible:!0,pallets:[],quicachSearch:"",showSearchModel:!1}},created:function(){this.initData()},methods:{initData:function(){var t=this,e=this.$store.state.production.userInfo.token,a={token:e,sourceId:this.$store.state.production.sourceSelected.id};this.$store.dispatch("production/ACTION_FETCH_PALLET_OUT_STOCK",a).then((function(e){t.pallets=t.$store.state.production.palletOutStock,t.visible=!1}))},showSearch:function(){this.quicachSearch="",this.search(""),this.showSearchModel=!0},search:function(t){var e=this.$store.state.production.palletOutStock.filter((function(e){var a=e.item[0].height.toString()+e.item[0].width.toString()+e.item[0].length.toString();if(-1!==a.toString().search(t))return e}));e.length>0?(this.pallets=e,this.numberPalletFound=e.length,this.showFiltterResult=!0):this.pallets=this.$store.state.production.palletOutStock},view:function(t){this.$router.push({name:"detailpallet",params:{code:t.code}})}}},O=x,L=Object(u["a"])(O,_,y,!1,null,null,null),P=L.exports;$()(L,"components",{QBtn:p["a"],QInnerLoading:b["a"],QSpinnerGears:f["a"],QPageSticky:m["a"],QFab:v["a"],QDialog:g["a"],QCard:q["a"],QCardSection:S["a"],QInput:w["a"],QCardActions:k["a"]}),$()(L,"directives",{ClosePopup:C["a"]});var E={components:{"app-bar":o["a"],"wait-recive-screen":n["a"],"in-stock-screen":I,"out-stock-screen":P},data:function(){return{tab:"wait-recived"}},beforeCreate:function(){void 0===this.$store.state.production.sourceSelected.id&&(this.$q.notify({message:"Đã xảy ra lỗi !",color:"grey"}),this.$router.push("/"))}},M=E,A=a("9989"),D=a("429bb"),F=a("7460"),N=a("eb85"),j=a("adad"),G=a("823b"),K=Object(u["a"])(M,s,i,!1,null,null,null);e["default"]=K.exports;$()(K,"components",{QCard:q["a"],QPage:A["a"],QTabs:D["a"],QTab:F["a"],QSeparator:N["a"],QTabPanels:j["a"],QTabPanel:G["a"]})}}]);