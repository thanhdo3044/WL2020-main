(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[135],{"3b1d":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{staticClass:"q-pa-sm"},[s("div",{staticClass:"row justify-center q-ma-sm"},[s("div",{staticClass:"col-8 col-md-6"},[s("q-input",{attrs:{outlined:"",dense:!0},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),s("div",{staticClass:"row justify-center"},t._l(t.receipts,(function(e){return s("card-receipt",{key:e.id,attrs:{isQC:t.isQC,receipt:e}})})),1),t.showAdd?s("q-page-sticky",{attrs:{position:"bottom-right",offset:[18,18]}},[s("q-btn",{attrs:{fab:"",icon:"add",color:"accent"},on:{click:t.onClick}})],1):t._e()],1)},a=[],o=s("a34a"),c=s.n(o),r=(s("96cf"),s("c973")),n=s.n(r),l=(s("f79b"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-12 col-sm-4 q-ma-sm"},[s("q-card",{staticClass:"my-card "},[s("q-card-section",[s("div",{staticClass:"text-h6"},[t._v(t._s(t.receipt.YEAR)+"."+t._s(t.receipt.NUMBER_OF_MONTH)+"/"+t._s(t.receipt.MONTH)+t._s(t.receipt.WAREHOUSE_CODE))]),s("div",{staticClass:"text-subtitle2 woodText"},[t._v(t._s(t.receipt.VENDOR_NAME))])]),s("q-separator"),s("q-card-section",[s("div",{staticClass:"row"},[s("div",{staticClass:"col-6"},[s("p",{staticClass:"prodTextNormal"},[t._v("Ngày nhập kho : ")])]),s("div",{staticClass:"col-6"},[s("p",{staticClass:"prodTextNormal"},[t._v(t._s(t.receipt.CREATE_AT))])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-6"},[s("p",{staticClass:"prodTextNormal"},[t._v("Mã kho : ")])]),s("div",{staticClass:"col-6"},[s("p",{staticClass:"prodTextNormal"},[t._v(t._s(t.receipt.WAREHOUSE_CODE))])])])]),s("q-card-actions",{attrs:{align:"around"}},[t.receipt.ALLOW_PAY&&!t.isQC?s("q-btn",{staticClass:"woodText",staticStyle:{color:"blue"},attrs:{outline:""},on:{click:function(e){return t.viewDetail(t.receipt,t.isQC)}}},[t._v(" "+t._s("Xem chi tiết"))]):t._e(),t.receipt.ALLOW_PAY||t.isQC?t._e():s("q-btn",{staticClass:"woodText",staticStyle:{color:"blue"},attrs:{outline:""},on:{click:function(e){return t.viewDetail(t.receipt,t.isQC)}}},[t._v(" "+t._s("Xem chi tiết"))]),t.receipt.ALLOW_PAY&&t.isQC?s("q-btn",{staticClass:"woodText",staticStyle:{color:"blue"},attrs:{outline:""},on:{click:function(e){return t.viewDetail(t.receipt,t.isQC)}}},[t._v(" "+t._s("Xem chi tiết"))]):t._e(),t.receipt.ALLOW_INSPECTION&&t.isQC?s("q-btn",{staticClass:"woodText",staticStyle:{color:"goldenrod"},attrs:{outline:""},on:{click:function(e){return t.goInspection(t.receipt)}}},[t._v("Nghiệm thu")]):t._e()],1)],1)],1)}),d=[],p={props:{receipt:{type:Object},isQC:{type:Boolean,default:!1},isWH:{type:Boolean,default:!1}},methods:{viewDetail:function(t,e){this.$store.dispatch("wood/SELECT_RECEIPT",t),console.log(e),e?this.$router.push({name:"wood-inspection",params:{id:t.ID}}):this.$router.push({name:"wood-detail",params:{id:t.ID}})},goInspection:function(t){this.$store.dispatch("wood/SELECT_RECEIPT",t),this.$router.push({name:"wood-inspection",params:{id:t.ID}})}}},u=p,h=s("2877"),C=s("f09f"),_=s("a370"),m=s("eb85"),f=s("4b7e"),v=s("9c40"),w=s("eebe"),b=s.n(w),E=Object(h["a"])(u,l,d,!1,null,null,null),y=E.exports;b()(E,"components",{QCard:C["a"],QCardSection:_["a"],QSeparator:m["a"],QCardActions:f["a"],QBtn:v["a"]});var q=s("d9b2"),Q={components:{"card-receipt":y},data:function(){return{receipts:[],search:"",showAdd:!1,isQC:!1,isWH:!1}},created:function(){this.initData();var t=this.$route.query.type;"wh"===t&&(this.isWH=!0,this.showAdd=!0),"qc"===t&&(this.isQC=!0)},methods:{onClick:function(){this.$router.push("/wood-add-receipt")},initData:function(){var t=this;return n()(c.a.mark((function e(){var s,i,a;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.$q.loading.show({spinnerColor:"primary",spinner:q["a"]}),!(t.$store.getters["base/myWarehouses"].length>0)){e.next=11;break}return s=t.$store.getters["base/myWarehouses"][0].id,i={moduleCode:"vcn",warehouseId:s},e.next=6,t.$store.dispatch("wood/GET_RECEIPTS",i);case 6:a=e.sent,t.$q.loading.hide(),a.data&&(t.receipts=a.data),e.next=12;break;case 11:t.$q.notify({message:"Bạn không có quyền truy cập !"});case 12:case"end":return e.stop()}}),e)})))()}}},k=Q,T=s("9989"),g=s("27f9"),x=s("0016"),A=s("de5e"),O=Object(h["a"])(k,i,a,!1,null,null,null);e["default"]=O.exports;b()(O,"components",{QPage:T["a"],QBtn:v["a"],QInput:g["a"],QIcon:x["a"],QPageSticky:A["a"]})}}]);