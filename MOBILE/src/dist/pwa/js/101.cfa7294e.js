(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[101],{"5b98":function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{staticClass:"q-pa-md"},[s("app-bar",[t._v("Xử lý sản phẩm lỗi")]),1==t.showSearchModel1?s("div",{staticClass:"row q-mt-md justify-center"},t._l(t.inventorys,(function(e,o){return s("div",{key:o,staticClass:"col-12 col-sm-6 col-md-3 col-lg-3 q-ma-sm"},[s("q-card",[s("q-card-section",[s("div",{staticClass:"prodTextTitle",staticStyle:{"text-align":"center"}},[t._v("\n            Qui cách : "+t._s(e.item.height+" "+e.item.width+" "+e.item.length)+" \n            "),s("p",{staticStyle:{color:"orange"}},[t._v("Số lượng : "+t._s(e.remain)+t._s(e.item.unit.name)+" "),s("br"),t._v(t._s(e.item.name))])]),s("p",{staticClass:"prodTextTitle"},[t._v("Từ : "+t._s(e.from.name))])]),s("q-separator"),s("q-card-actions",{attrs:{align:"around"}},[s("q-btn",{staticClass:"glossy",attrs:{rounded:"",color:"primary",label:"Lịch sử lỗi"},on:{click:function(s){return t.goHistory(e.fromId,e)}}}),s("q-btn",{staticClass:"glossy",attrs:{rounded:"",color:"deep-orange",label:"Xử lý"},on:{click:function(s){return t.goHandle(e)}}})],1)],1)],1)})),0):t._e(),s("q-dialog",{attrs:{"transition-show":"rotate","transition-hide":"rotate"},model:{value:t.showSearchModel,callback:function(e){t.showSearchModel=e},expression:"showSearchModel"}},[s("q-card",{staticStyle:{"min-width":"300px"}},[s("q-card-section",[s("div",{staticClass:"prodTextTitle"},[t._v("Tìm kiếm")])]),s("q-card-section",[s("q-select",{staticStyle:{"font-family":"'Time New Roman'","font-size":"16px","text-align":"center"},attrs:{clearable:"",behavior:"dialog",options:t.process,label:"Chọn công đoạn :"},on:{clear:t.clear,input:t.searchByProcess},model:{value:t.proces,callback:function(e){t.proces=e},expression:"proces"}}),s("br"),s("q-input",{directives:[{name:"show",rawName:"v-show",value:null===t.proces,expression:"proces===null"}],attrs:{outlined:"",label:"Tìm theo qui cách"},on:{input:t.search},model:{value:t.quicachSearch,callback:function(e){t.quicachSearch=e},expression:"quicachSearch"}})],1),s("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[s("q-btn",{attrs:{flat:"",label:"OK"},on:{click:t.closeSearch}})],1)],1)],1),s("q-page-sticky",{attrs:{position:"bottom-left",offset:[18,18]}},[s("q-btn",{attrs:{fab:"",icon:"search",color:"secondary"},on:{click:t.showSearch}})],1),s("q-inner-loading",{attrs:{showing:t.showLoad}},[s("q-spinner-gears",{attrs:{size:"150px",color:"primary"}})],1)],1)},a=[],n=(s("386d"),s("7f7f"),s("20d6"),s("6b54"),s("06db"),s("dd38")),r={components:{"app-bar":n["a"]},data:function(){return{showLoad:!0,inventorys:[],showSearchModel:!1,showSearchModel1:!1,quicachSearch:"",process:[],proces:null,searchResultNumber:0}},created:function(){this.initData();this.$store.getters["base/myFactoryInfor"].id,localStorage.getItem("tokenFBB")},methods:{goHistory:function(t,e){var s=t.toString()+"-"+e.item.itemId.toString()+"-"+e.id;this.$router.push({name:"qchistorybystep",params:{stepid:s}})},initData:function(){var t=this,e={token:this.$store.state.production.userInfo.token,stepId:this.$store.getters["base/mySources"][0].id};this.$store.dispatch("production/ACTION_GET_INVENTORY_QC",e).then((function(e){t.inventorys=e.data,t.showLoad=!1,e.data.forEach((function(e){if(-1===t.process.findIndex((function(t){return t.value===e.from.id}))){var s={label:e.from.name,value:e.from.id};t.process.push(s)}}))})).catch((function(t){console.log(t)}))},goHandle:function(t){this.$store.dispatch("production/ACTION_SELECT_INVENTORY_QC",t),this.$router.push("/production-handle-qc")},clear:function(t){console.log(t),this.proces=null},showSearch:function(){this.showSearchModel=!0},searchByProcess:function(t){if(console.log("kiem tra",t),null!==t){var e=this.$store.state.production.inventoryQCs.filter((function(e){return e.from.id===t.value}));this.inventorys=e,this.searchResultNumber=e.length}else this.inventorys=this.$store.state.production.inventoryQCs,this.searchResultNumber=this.inventorys.length},closeSearch:function(){this.showSearchModel=!1,this.showSearchModel1=!0,this.$q.notify({message:"Tìm thấy "+this.searchResultNumber+" kết quả ",color:"cyan"})},search:function(){var t=this,e=this.$store.state.production.inventoryQCs.filter((function(e){var s=e.item.height||"",o=e.item.width||"",a=e.item.length||"",n=s.toString()+o.toString()+a.toString();if(-1!==n.toString().search(t.quicachSearch))return e}));e.length>0?(this.inventorys=e,this.searchResultNumber=e.length):(this.inventorys=this.$store.state.production.inventoryQCs,this.searchResultNumber=this.inventorys.length)}}},i=r,c=s("2877"),l=s("9989"),h=s("f09f"),u=s("a370"),d=s("eb85"),p=s("4b7e"),m=s("9c40"),f=s("24e8"),g=s("ddd8"),v=s("27f9"),b=s("de5e"),y=s("74f7"),S=s("cf57"),q=s("eebe"),w=s.n(q),C=Object(c["a"])(i,o,a,!1,null,null,null);e["default"]=C.exports;w()(C,"components",{QPage:l["a"],QCard:h["a"],QCardSection:u["a"],QSeparator:d["a"],QCardActions:p["a"],QBtn:m["a"],QDialog:f["a"],QSelect:g["a"],QInput:v["a"],QPageSticky:b["a"],QInnerLoading:y["a"],QSpinnerGears:S["a"]})}}]);