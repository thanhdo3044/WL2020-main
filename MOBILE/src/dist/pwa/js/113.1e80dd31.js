(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[113],{dfe4:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{staticClass:"q-pa-md"},[a("div",{staticClass:"row justify-center"},[a("div",{staticClass:"col-12 col-sm-6"},[a("q-card",[a("q-card-section",[a("div",{staticClass:"prodTextTitle"},[e._v("\n                        Tạo phiếu nhập kho\n                    ")])]),a("q-separator"),a("q-card-section",[a("q-form",{staticClass:"q-gutter-md",on:{submit:e.onSubmit,reset:e.onReset}},[a("q-input",{attrs:{outlined:"",label:"Lệnh xuất hàng","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Hãy nhập đúng định dạng"}]},model:{value:e.orderGood,callback:function(t){e.orderGood=t},expression:"orderGood"}}),a("q-select",{attrs:{outlined:"",options:e.projects,label:"Dự án"},on:{input:e.selectProject},model:{value:e.project,callback:function(t){e.project=t},expression:"project"}}),a("q-input",{attrs:{outlined:"",label:"Biển số xe/ số container","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Hãy nhập đúng định dạng"}]},model:{value:e.numberPalte,callback:function(t){e.numberPalte=t},expression:"numberPalte"}}),a("div",[a("q-btn",{attrs:{label:"Tạo phiếu",type:"submit",color:"primary"}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{label:"Nhập lại",type:"reset",color:"primary",flat:""}})],1)],1)],1)],1)],1)]),a("q-dialog",{attrs:{persistent:""},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}},[a("q-card",{staticStyle:{"min-width":"300px"}},[a("q-card-section",{staticClass:"row items-center"},[a("span",{staticClass:"q-ml-sm prodTextTitle"},[e._v("Bạn đã chắc chắn ? !")])]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Hủy",color:"primary"}}),a("q-btn",{attrs:{flat:"",label:"Đồng Ý",color:"primary"},on:{click:e.create}})],1)],1)],1)],1)},n=[],r=a("a34a"),o=a.n(r),i=(a("7f7f"),a("96cf"),a("c973")),c=a.n(i),l=a("cf57"),u={data:function(){return{sophieu:"",project:null,projects:[],numberPalte:"",orderGood:"",address:"",showDialog:!1}},created:function(){this.initData()},methods:{selectProject:function(e){this.address=e.address},initData:function(){var e=this;return c()(o.a.mark((function t(){var a;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("funiture/ACTION_LOAD_PROJECTS");case 2:a=t.sent,!0===a.meta.success&&a.data.forEach((function(t){var a={label:t.name,value:t.id,address:t.customer.address};e.projects.push(a)}));case 4:case"end":return t.stop()}}),t)})))()},onSubmit:function(){this.project?this.showDialog=!0:this.$q.notify({message:"Thiếu thông tin !",color:"red"})},onReset:function(){},create:function(){var e=this;return c()(o.a.mark((function t(){var a,s,n;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.showDialog=!1,e.$q.loading.show({spinner:l["a"]}),a={projectId:e.project.value,address:e.address,orderedGoods:e.orderGood,numberPalte:e.numberPalte,goodsIssueNumber:e.sophieu},t.next=5,e.$store.dispatch("funiture/ACTION_CREATE_GOOD_ISSUE",a);case 5:s=t.sent,!0===s.meta.success?(e.$q.notify({message:"Tạo phiếu thành công !",color:"green"}),e.$q.loading.hide(),n=s.data.id,e.$router.push("/funiture-packing?id="+n)):(e.$q.notify({message:s.meta.messages.message,color:"red"}),e.$q.loading.hide());case 7:case"end":return t.stop()}}),t)})))()}}},d=u,p=a("2877"),h=a("9989"),m=a("f09f"),f=a("a370"),g=a("eb85"),b=a("0378"),q=a("27f9"),v=a("ddd8"),w=a("9c40"),y=a("24e8"),C=a("4b7e"),j=a("7f67"),x=a("eebe"),D=a.n(x),T=Object(p["a"])(d,s,n,!1,null,null,null);t["default"]=T.exports;D()(T,"components",{QPage:h["a"],QCard:m["a"],QCardSection:f["a"],QSeparator:g["a"],QForm:b["a"],QInput:q["a"],QSelect:v["a"],QBtn:w["a"],QDialog:y["a"],QCardActions:C["a"]}),D()(T,"directives",{ClosePopup:j["a"]})}}]);